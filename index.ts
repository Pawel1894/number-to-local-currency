import countryToCurrency from "country-to-currency";
import moment from "moment-timezone";
import ct from "countries-and-timezones";

type countries =
  | "AD"
  | "AE"
  | "AF"
  | "AG"
  | "AI"
  | "AL"
  | "AM"
  | "AO"
  | "AR"
  | "AS"
  | "AT"
  | "AU"
  | "AW"
  | "AX"
  | "AZ"
  | "BA"
  | "BB"
  | "BD"
  | "BE"
  | "BF"
  | "BG"
  | "BH"
  | "BI"
  | "BJ"
  | "BL"
  | "BM"
  | "BN"
  | "BO"
  | "BQ"
  | "BR"
  | "BS"
  | "BT"
  | "BV"
  | "BW"
  | "BY"
  | "BZ"
  | "CA"
  | "CC"
  | "CD"
  | "CF"
  | "CG"
  | "CH"
  | "CI"
  | "CK"
  | "CL"
  | "CM"
  | "CN"
  | "CO"
  | "CR"
  | "CU"
  | "CV"
  | "CW"
  | "CX"
  | "CY"
  | "CZ"
  | "DE"
  | "DJ"
  | "DK"
  | "DM"
  | "DO"
  | "DZ"
  | "EC"
  | "EE"
  | "EG"
  | "EH"
  | "ER"
  | "ES"
  | "ET"
  | "FI"
  | "FJ"
  | "FM"
  | "FO"
  | "FR"
  | "GA"
  | "GB"
  | "GD"
  | "GE"
  | "GF"
  | "GG"
  | "GH"
  | "GI"
  | "GL"
  | "GM"
  | "GN"
  | "GP"
  | "GQ"
  | "GR"
  | "GT"
  | "GU"
  | "GW"
  | "GY"
  | "HK"
  | "HN"
  | "HR"
  | "HT"
  | "HU"
  | "ID"
  | "IE"
  | "IL"
  | "IM"
  | "IN"
  | "IO"
  | "IQ"
  | "IR"
  | "IS"
  | "IT"
  | "JE"
  | "JM"
  | "JO"
  | "JP"
  | "KE"
  | "KG"
  | "KH"
  | "KI"
  | "KM"
  | "KN"
  | "KP"
  | "KR"
  | "KW"
  | "KY"
  | "KZ"
  | "LB"
  | "LC"
  | "LI"
  | "LK"
  | "LR"
  | "LS"
  | "LT"
  | "LU"
  | "LV"
  | "LY"
  | "MA"
  | "MC"
  | "MD"
  | "ME"
  | "MF"
  | "MG"
  | "MH"
  | "ML"
  | "MM"
  | "MN"
  | "MO"
  | "MP"
  | "MQ"
  | "MR"
  | "MS"
  | "MT"
  | "MU"
  | "MV"
  | "MW"
  | "MX"
  | "MY"
  | "MZ"
  | "NA"
  | "NC"
  | "NE"
  | "NF"
  | "NG"
  | "NI"
  | "NL"
  | "NO"
  | "NP"
  | "NR"
  | "NU"
  | "NZ"
  | "OM"
  | "PA"
  | "PE"
  | "PF"
  | "PG"
  | "PH"
  | "PK"
  | "PL"
  | "PM"
  | "PN"
  | "PR"
  | "PT"
  | "PW"
  | "PY"
  | "QA"
  | "RE"
  | "RO"
  | "RS"
  | "RU"
  | "RW"
  | "SA"
  | "SB"
  | "SC"
  | "SD"
  | "SE"
  | "SG"
  | "SH"
  | "SI"
  | "SJ"
  | "SK"
  | "SL"
  | "SM"
  | "SN"
  | "SO"
  | "SR"
  | "SS"
  | "ST"
  | "SV"
  | "SX"
  | "SY"
  | "SZ"
  | "TC"
  | "TD"
  | "TF"
  | "TG"
  | "TH"
  | "TJ"
  | "TK"
  | "TL"
  | "TM"
  | "TN"
  | "TO"
  | "TT"
  | "TV"
  | "TW"
  | "TZ"
  | "UA"
  | "UG"
  | "UM"
  | "US"
  | "UY"
  | "UZ"
  | "VA"
  | "VC"
  | "VE"
  | "VG"
  | "VI"
  | "VN"
  | "VU"
  | "WF"
  | "WS"
  | "YE"
  | "YT"
  | "ZA"
  | "ZM"
  | "ZW"
  | "HM"
  | "FK"
  | "GS"
  | "LA"
  | "MK"
  | "AQ"
  | "PS"
  | "TR";

type numberFormats =
  | "en-IE"
  | "ro-MD"
  | "br"
  | "en-GY"
  | "es-GT"
  | "shi-Tfng-M"
  | "mr"
  | "bs"
  | "en-AS"
  | "ksf"
  | "bs-Cyrl"
  | "en-PR"
  | "ms"
  | "sr-Latn-ME"
  | "mt"
  | "ha"
  | "nb-NO"
  | "en-SE"
  | "en-BZ"
  | "pt-BR"
  | "or-IN"
  | "is-IS"
  | "mn-MN"
  | "ar-IQ"
  | "he"
  | "it-SM"
  | "en-AT"
  | "bas"
  | "ckb"
  | "my"
  | "zh-CN"
  | "mer"
  | "ks-Arab-IN"
  | "en-JM"
  | "dz-BT"
  | "ms-Arab-BN"
  | "cy-GB"
  | "sg"
  | "it-CH"
  | "teo-KE"
  | "de-LU"
  | "en-US"
  | "hi"
  | "hu-HU"
  | "uz-Latn-UZ"
  | "af-NA"
  | "si"
  | "fr-BI"
  | "ga-IE"
  | "mfe"
  | "en-CA"
  | "ne-IN"
  | "rwk-TZ"
  | "en-AU"
  | "sk"
  | "teo"
  | "en-PT"
  | "en-NG"
  | "sl"
  | "tk-TM"
  | "tzm"
  | "ee-GH"
  | "kde"
  | "sn"
  | "dyo-SN"
  | "en-SG"
  | "mas-TZ"
  | "so"
  | "nyn-UG"
  | "br-FR"
  | "fr-BJ"
  | "es-IC"
  | "pt-MZ"
  | "hr"
  | "az"
  | "sq"
  | "sr"
  | "sw-KE"
  | "ca"
  | "hu"
  | "et-EE"
  | "lag-TZ"
  | "bn-IN"
  | "nb"
  | "sv"
  | "th-TH"
  | "ml-IN"
  | "sr-RS"
  | "sw"
  | "nd"
  | "ta-IN"
  | "fr-MQ"
  | "hy"
  | "en-TO"
  | "es-AR"
  | "ne"
  | "pt-AO"
  | "ne-NP"
  | "ar-BH"
  | "en-SI"
  | "bo-IN"
  | "hi-IN"
  | "seh"
  | "de-DE"
  | "ko-KP"
  | "fr-BL"
  | "fr-MR"
  | "ca-AD"
  | "fa-IR"
  | "nl"
  | "es-PR"
  | "en-PW"
  | "rn-BI"
  | "nn"
  | "kk"
  | "en-DK"
  | "sl-SI"
  | "dua"
  | "kea"
  | "ms-Arab-MY"
  | "ig-NG"
  | "kln"
  | "yo"
  | "fr-DZ"
  | "sv-FI"
  | "fr-SY"
  | "ru-MD"
  | "en-ZW"
  | "brx-IN"
  | "sw-UG"
  | "fil-PH"
  | "cs"
  | "pt-GW"
  | "bn-BD"
  | "de-AT"
  | "fr-PF"
  | "luo"
  | "sk-SK"
  | "ar-001"
  | "es-US"
  | "en-SK"
  | "ta"
  | "fr-HT"
  | "mk-MK"
  | "om-KE"
  | "da-DK"
  | "en-ME"
  | "ko-KR"
  | "ff-SN"
  | "id"
  | "en-KY"
  | "kde-TZ"
  | "shi"
  | "cy"
  | "en-ES"
  | "mgh"
  | "en-TR"
  | "sr-ME"
  | "te"
  | "fr-GN"
  | "fo-FO"
  | "en-NL"
  | "ig"
  | "it-IT"
  | "uk-UA"
  | "tg"
  | "en-DM"
  | "bm-ML"
  | "vai"
  | "en-SL"
  | "ii"
  | "en-150"
  | "ses"
  | "th"
  | "ti"
  | "en-IM"
  | "ru-KZ"
  | "fr-MU"
  | "iu-Cans-CA"
  | "cs-CZ"
  | "ar-AE"
  | "te-IN"
  | "tk"
  | "brx"
  | "haw"
  | "tzm-MA"
  | "so-DJ"
  | "uz-UZ"
  | "en-BA"
  | "to"
  | "en-MG"
  | "ewo-CM"
  | "ar-MR"
  | "nl-AW"
  | "en-IN"
  | "mgo"
  | "sn-ZW"
  | "en-CH"
  | "en-TT"
  | "tr"
  | "is"
  | "fr-GP"
  | "luy"
  | "es-NI"
  | "pt-TL"
  | "it"
  | "ms-Arab"
  | "da"
  | "kln-KE"
  | "iu"
  | "tk"
  | "en-BB"
  | "ar-DZ"
  | "ar-SY"
  | "ha"
  | "en-MH"
  | "mr-IN"
  | "en-GB"
  | "de"
  | "fr-GQ"
  | "en-NO"
  | "ky-KG"
  | "pt-PT"
  | "fr-RW"
  | "nus-SD"
  | "asa"
  | "zh"
  | "ha-GH"
  | "bo-CN"
  | "kam-KE"
  | "dua-CM"
  | "khq-ML"
  | "ur-IN"
  | "en-LC"
  | "fr-TD"
  | "ksb-TZ"
  | "gu-IN"
  | "om"
  | "jmc"
  | "ro-RO"
  | "ja-JP"
  | "ln-AO"
  | "so-ET"
  | "en-GD"
  | "nl-NL"
  | "es-ES"
  | "en-VC"
  | "or"
  | "yo-NG"
  | "es-PY"
  | "mua-CM"
  | "fa-AF"
  | "en-HK"
  | "ja"
  | "luo-KE"
  | "twq"
  | "en-BE"
  | "es-UY"
  | "dje-NE"
  | "luy-KE"
  | "naq"
  | "si-LK"
  | "zu"
  | "zh-Hans-MO"
  | "fr-KM"
  | "zh-HK"
  | "dz"
  | "swc"
  | "asa-TZ"
  | "jgo-CM"
  | "az-Cyrl"
  | "ewo"
  | "gv-GB"
  | "ti-ER"
  | "be-BY"
  | "en-IS"
  | "en-CM"
  | "uk"
  | "cgg-UG"
  | "nyn"
  | "tr-CY"
  | "de-CH"
  | "fr-TG"
  | "jmc-TZ"
  | "ta-LK"
  | "so-SO"
  | "es-DO"
  | "fr-LU"
  | "shi-MA"
  | "en-SS"
  | "swc-CD"
  | "kn-IN"
  | "hy-AM"
  | "en-IT"
  | "en-GG"
  | "fil"
  | "bas-CM"
  | "en-TZ"
  | "ar-TD"
  | "ur"
  | "bez-TZ"
  | "haw-US"
  | "fr-VU"
  | "tg"
  | "pa"
  | "bs-BA"
  | "ee-TG"
  | "ti-ET"
  | "sr-Latn-BA"
  | "en-GH"
  | "ee"
  | "en-VG"
  | "sv-SE"
  | "ki-KE"
  | "zh-Hans"
  | "bem"
  | "uz"
  | "ar-YE"
  | "fr-NC"
  | "seh-MZ"
  | "ru-UA"
  | "fr-SC"
  | "ar-KM"
  | "en-ZA"
  | "en-GI"
  | "mas-KE"
  | "nn-NO"
  | "ar-EG"
  | "el"
  | "en-RO"
  | "pl"
  | "nl-BE"
  | "en"
  | "uz-Latn"
  | "eo"
  | "shi"
  | "kok"
  | "mas"
  | "fr-FR"
  | "rof"
  | "en-MP"
  | "de-BE"
  | "hr-BA"
  | "ar-EH"
  | "es-CL"
  | "en-AD"
  | "es"
  | "en-VI"
  | "ps"
  | "et"
  | "nl-SR"
  | "vai-Latn"
  | "pt"
  | "eu"
  | "ka"
  | "fr-NE"
  | "eu-ES"
  | "mgh-MZ"
  | "zu-ZA"
  | "ar-SA"
  | "chr-US"
  | "cgg"
  | "sq-MK"
  | "lag"
  | "az-AZ"
  | "es-VE"
  | "ks-Arab"
  | "en-HR"
  | "el-GR"
  | "el-CY"
  | "mfe-MU"
  | "ki"
  | "vi"
  | "en-KE"
  | "rwk"
  | "bez"
  | "kk"
  | "kl"
  | "zh-Hant"
  | "fr-CA"
  | "km"
  | "es-HN"
  | "agq-CM"
  | "kn"
  | "ii-CN"
  | "mn"
  | "en-BM"
  | "ko"
  | "sv-AX"
  | "ln-CD"
  | "en-GM"
  | "iu-Cans"
  | "fr-MA"
  | "es-CO"
  | "en-AG"
  | "guz-KE"
  | "ks"
  | "es-PA"
  | "twq-NE"
  | "en-NZ"
  | "fr-TN"
  | "fa"
  | "en-US-POSI"
  | "dav-KE"
  | "en-WS"
  | "lt-LT"
  | "en-SZ"
  | "ar-SD"
  | "rof-TZ"
  | "uz-Arab-AF"
  | "vi-VN"
  | "en-MT"
  | "kw"
  | "yav-CM"
  | "ta-MY"
  | "ru-KG"
  | "kab"
  | "ky"
  | "ff"
  | "en-PG"
  | "to-TO"
  | "ar-LY"
  | "jgo"
  | "en-HU"
  | "af-ZA"
  | "en-UG"
  | "de-LI"
  | "fi"
  | "es-SV"
  | "khq"
  | "gsw"
  | "ksf-CM"
  | "fr-DJ"
  | "en-MU"
  | "bs"
  | "ln-CF"
  | "ms"
  | "kea-CV"
  | "pl-PL"
  | "pa-Arab"
  | "fr-MC"
  | "sr-BA"
  | "sr-Latn"
  | "en-RU"
  | "en-PH"
  | "saq"
  | "ar-PS"
  | "fr-CD"
  | "bem-ZM"
  | "ru-RU"
  | "uz"
  | "pa"
  | "vai"
  | "en-FI"
  | "fo"
  | "so-KE"
  | "ln-CG"
  | "ar-OM"
  | "pt-ST"
  | "en-KI"
  | "kl-GL"
  | "fr"
  | "es-CR"
  | "ses-ML"
  | "tzm"
  | "mer-KE"
  | "xog"
  | "xog-UG"
  | "nl-SX"
  | "en-FJ"
  | "ms-BN"
  | "en-MW"
  | "ar-MA"
  | "pt-MO"
  | "kam"
  | "en-TC"
  | "af"
  | "ar-TN"
  | "am-ET"
  | "es-PE"
  | "sbp-TZ"
  | "fr-CF"
  | "vun-TZ"
  | "fr-RE"
  | "ar-JO"
  | "ebu"
  | "lg"
  | "ha-NG"
  | "lv-LV"
  | "ak"
  | "chr"
  | "az-Cyrl-AZ"
  | "dav"
  | "en-EE"
  | "es-419"
  | "ebu-KE"
  | "en-CY"
  | "fr-MF"
  | "en-AL"
  | "am"
  | "en-PK"
  | "mgo-CM"
  | "fr-CG"
  | "dje"
  | "en-JE"
  | "en-LR"
  | "dyo"
  | "ln"
  | "ak-GH"
  | "pa-IN"
  | "ar-DJ"
  | "en-BS"
  | "lo"
  | "zh-TW"
  | "lg-UG"
  | "ar-KW"
  | "ar"
  | "bs-Cyrl-BA"
  | "es-EA"
  | "fr-MG"
  | "ca-ES"
  | "as"
  | "he-IL"
  | "es-CU"
  | "en-CZ"
  | "en-PL"
  | "fr-GA"
  | "mg-MG"
  | "fr-CH"
  | "en-LS"
  | "lt"
  | "my-MM"
  | "kk-KZ"
  | "ga"
  | "en-FM"
  | "lu"
  | "ps-AF"
  | "nmg"
  | "es-BO"
  | "sbp"
  | "lv"
  | "vun"
  | "fr-YT"
  | "km-KH"
  | "teo-UG"
  | "fr-SN"
  | "om-ET"
  | "ar-ER"
  | "gsw-CH"
  | "az"
  | "es-PH"
  | "fi-FI"
  | "tr-TR"
  | "fr-CI"
  | "en-LT"
  | "en-UM"
  | "sr"
  | "ur-PK"
  | "hr-HR"
  | "nl-CW"
  | "en-KN"
  | "ms-MY"
  | "ar-IL"
  | "en-ZM"
  | "es-EC"
  | "gl-ES"
  | "en-GU"
  | "gl"
  | "nmg-CM"
  | "zh-MO"
  | "en-NA"
  | "ha-NE"
  | "mt-MT"
  | "rm"
  | "kw-GB"
  | "zh-SG"
  | "rn"
  | "ro"
  | "rm-CH"
  | "saq-KE"
  | "vai-LR"
  | "ka-GE"
  | "es-GQ"
  | "sr-Latn-RS"
  | "en-VU"
  | "zh-Hans-HK"
  | "en-LV"
  | "agq"
  | "gu"
  | "lo-LA"
  | "ru"
  | "en-SB"
  | "gv"
  | "en-BW"
  | "yav"
  | "ta-SG"
  | "fr-BE"
  | "bg-BG"
  | "es-MX"
  | "rw"
  | "be"
  | "nd-ZW"
  | "kab-DZ"
  | "mua"
  | "pt-CV"
  | "bg"
  | "tg-TJ"
  | "ms-SG"
  | "mg"
  | "sg-CF"
  | "pa-Arab-PK"
  | "sw-TZ"
  | "en-SC"
  | "nus"
  | "shi-Tfng"
  | "ar-QA"
  | "naq-NA"
  | "fr-BF"
  | "rw-RW"
  | "as-IN"
  | "guz"
  | "ksb"
  | "fr-ML"
  | "mk"
  | "kok-IN"
  | "sq-AL"
  | "ml"
  | "fr-GF"
  | "bm"
  | "lu-CD"
  | "fr-CM"
  | "bn"
  | "ar-LB"
  | "id-ID"
  | "uz-Arab"
  | "mn"
  | "bo"
  | "en-FR"
  | "en-DE"
  | "vai-Latn-L"
  | "ar-SO"
  | "ru-BY";

/**
 * Returns the formatted number.
 *
 * @remarks
 * This method returns number as formatted currency with user's locale currency sign.
 *
 * @param value - Number you want to format
 * @param numberFormat - Select format type
 * @param fallbackCountryCurrency - Fallback country value, formatted number will get this country sign if something would go wrong
 * @returns Input number as formatted currency
 *
 */
export const format = (
  value: number,
  numberFormat: numberFormats = "en-US",
  fallbackCountryCurrency: countries = "US"
) => {
  const timezone = ct.getTimezone(moment.tz.guess());
  const country = timezone?.countries[0];

  const formatter = new Intl.NumberFormat(numberFormat, {
    style: "currency",
    currency: countryToCurrency[country ?? fallbackCountryCurrency],
  });

  return formatter.format(value);
};
